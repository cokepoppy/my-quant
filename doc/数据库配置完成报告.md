# æ•°æ®åº“è¿æ¥é…ç½®å®ŒæˆæŠ¥å‘Š

## âœ… å®ŒæˆçŠ¶æ€

### æ•°æ®åº“é…ç½®
- **PostgreSQL**: âœ… å·²é…ç½®å¹¶æµ‹è¯•é€šè¿‡
  - å®¹å™¨åç§°: `my-quant-postgres-1`
  - ç«¯å£: `5432`
  - æ•°æ®åº“: `quant_trading`
  - ç”¨æˆ·: `quant`
  - å¯†ç : `quant123`
  - TimescaleDBæ‰©å±•: âœ… å·²å®‰è£…å¹¶æ¿€æ´»

### Redisé…ç½®
- **Redis**: âœ… å·²é…ç½®å¹¶æµ‹è¯•é€šè¿‡
  - å®¹å™¨åç§°: `my-quant-redis-1`
  - ç«¯å£: `6379`
  - è¿æ¥æµ‹è¯•: âœ… PONGå“åº”æ­£å¸¸
  - è¯»å†™æµ‹è¯•: âœ… æ­£å¸¸å·¥ä½œ

### å·²åˆ›å»ºçš„æ–‡ä»¶
1. **Prisma Schema** (`backend/prisma/schema.prisma`)
   - å®Œæ•´çš„æ•°æ®æ¨¡å‹å®šä¹‰
   - åŒ…å«ç”¨æˆ·ã€ç­–ç•¥ã€å›æµ‹ã€äº¤æ˜“ç­‰æ ¸å¿ƒè¡¨
   - æ”¯æŒTimescaleDBæ‰©å±•

2. **é…ç½®æ–‡ä»¶** (`backend/src/config/`)
   - `index.ts` - ä¸»é…ç½®æ–‡ä»¶
   - `database.ts` - æ•°æ®åº“è¿æ¥é…ç½®
   - `redis.ts` - Redisè¿æ¥é…ç½®

3. **ç¯å¢ƒå˜é‡** (`backend/.env.example`)
   - å®Œæ•´çš„ç¯å¢ƒå˜é‡æ¨¡æ¿
   - åŒ…å«æ•°æ®åº“ã€Redisã€JWTç­‰é…ç½®

4. **åˆå§‹åŒ–è„šæœ¬** (`backend/scripts/`)
   - `init-database.ts` - æ•°æ®åº“åˆå§‹åŒ–è„šæœ¬
   - `test-connection.ts` - è¿æ¥æµ‹è¯•è„šæœ¬

## ğŸ“Š æ•°æ®åº“æ¨¡å‹

### æ ¸å¿ƒè¡¨ç»“æ„
- **users** - ç”¨æˆ·ä¿¡æ¯
- **strategies** - ç­–ç•¥ç®¡ç†
- **market_data** - å¸‚åœºæ•°æ®ï¼ˆæ—¶åºè¡¨ï¼‰
- **backtests** - å›æµ‹è®°å½•
- **trades** - äº¤æ˜“è®°å½•
- **accounts** - äº¤æ˜“è´¦æˆ·
- **system_logs** - ç³»ç»Ÿæ—¥å¿—
- **api_keys** - APIå¯†é’¥ç®¡ç†

### TimescaleDBä¼˜åŒ–
- `market_data`è¡¨å·²é…ç½®ä¸ºhypertable
- åˆ›å»ºäº†symbolå’Œtimestampçš„å¤åˆç´¢å¼•
- æ”¯æŒé«˜æ•ˆçš„æ—¶é—´åºåˆ—æ•°æ®æŸ¥è¯¢

## ğŸ”§ è¿æ¥ä¿¡æ¯

### PostgreSQLè¿æ¥å­—ç¬¦ä¸²
```
postgresql://quant:quant123@localhost:5432/quant_trading
```

### Redisè¿æ¥å­—ç¬¦ä¸²
```
redis://localhost:6379
```

## ğŸš€ ä¸‹ä¸€æ­¥å»ºè®®

1. **å®‰è£…ä¾èµ–**: `npm install` (åœ¨backendç›®å½•ä¸‹)
2. **ç”ŸæˆPrismaå®¢æˆ·ç«¯**: `npx prisma generate`
3. **è¿è¡Œåˆå§‹åŒ–è„šæœ¬**: `npm run db:init`
4. **å¯åŠ¨åç«¯æœåŠ¡**: `npm run dev`

## ğŸ“ æ³¨æ„äº‹é¡¹

- Dockerå®¹å™¨å·²æ­£å¸¸è¿è¡Œï¼Œæ— éœ€é¢å¤–æ“ä½œ
- æ•°æ®åº“schemaå·²åŒæ­¥ï¼Œå¯ä»¥å¼€å§‹å¼€å‘
- ç¯å¢ƒå˜é‡æ–‡ä»¶éœ€è¦æ ¹æ®å®é™…é…ç½®è°ƒæ•´
- å»ºè®®åœ¨ç”Ÿäº§ç¯å¢ƒä¸­ä½¿ç”¨æ›´å®‰å…¨çš„å¯†ç å’Œå¯†é’¥

## ğŸ¯ æµ‹è¯•éªŒè¯

æ‰€æœ‰æ•°æ®åº“è¿æ¥æµ‹è¯•å‡é€šè¿‡ï¼š
- âœ… PostgreSQLè¿æ¥æ­£å¸¸
- âœ… TimescaleDBæ‰©å±•å·²æ¿€æ´»
- âœ… Redisè¯»å†™æ“ä½œæ­£å¸¸
- âœ… å®¹å™¨åŒ–éƒ¨ç½²ç¨³å®šè¿è¡Œ

æ•°æ®åº“è¿æ¥é…ç½®å·²å…¨éƒ¨å®Œæˆï¼Œå¯ä»¥å¼€å§‹è¿›è¡Œåç«¯APIå¼€å‘ã€‚